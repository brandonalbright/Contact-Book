{"ast":null,"code":"import _regeneratorRuntime from\"/Users/brandonalbright/Desktop/Contact-Book/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/brandonalbright/Desktop/Contact-Book/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/brandonalbright/Desktop/Contact-Book/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./CONTACTS.css\";import{Accordion,AccordionDetails,AccordionSummary,Typography}from'@material-ui/core';import ExpandMoreIcon from'@material-ui/icons/ExpandMore';import EditIcon from'@material-ui/icons/Edit';import DeleteIcon from'@material-ui/icons/Delete';import fetchAPI from'../api/index';import Comments from'./COMMENTS';function Contacts(props){var contactList=props.contactList,setContactList=props.setContactList,setOpen=props.setOpen,setName=props.setName,setAddress=props.setAddress,setPhoneNumber=props.setPhoneNumber,setEmail=props.setEmail,setContactType=props.setContactType,setEdit=props.setEdit;var _useState=useState('false'),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var handleChange=function handleChange(panel){return function(event,isExpanded){setExpanded(isExpanded?panel:false);};};return contactList.map(function(contact,index){return/*#__PURE__*/React.createElement(Accordion,{key:index,expanded:expanded===index,onChange:handleChange(index)},/*#__PURE__*/React.createElement(AccordionSummary,{expandIcon:/*#__PURE__*/React.createElement(ExpandMoreIcon,null),\"aria-controls\":\"panel1a-content\",id:\"panel1a-header\",expanded:expanded},/*#__PURE__*/React.createElement(Typography,{className:\"contact-name\"},/*#__PURE__*/React.createElement(\"strong\",null,contact.name))),/*#__PURE__*/React.createElement(AccordionDetails,{className:\"details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"contact-details\"},/*#__PURE__*/React.createElement(Typography,null,/*#__PURE__*/React.createElement(\"strong\",null,\"ADDRESS: \"),contact.address,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"strong\",null,\"PHONE NUMBER: \"),contact.phoneNumber,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"strong\",null,\"EMAIL: \"),contact.email,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"strong\",null,\"CONTACT TYPE: \"),contact.contactType,/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"icons\"},/*#__PURE__*/React.createElement(DeleteIcon,{id:\"delete\",fontSize:\"large\",onClick:/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();fetchAPI(\"https://univ-contact-book.herokuapp.com/api/contacts/\".concat(contact.id),\"DELETE\").then(function(){var newList=contactList.filter(function(person){return person.id!==contact.id;});setContactList(newList);setExpanded(false);}).catch(console.error);case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()}),/*#__PURE__*/React.createElement(EditIcon,{id:\"edit\",fontSize:\"large\",onClick:function onClick(event){event.preventDefault();setEdit(contact.id);setOpen(true);setName(contact.name);setAddress(contact.address);setPhoneNumber(contact.phoneNumber);setEmail(contact.email);setContactType(contact.contactType);}}))),/*#__PURE__*/React.createElement(Comments,{contact:contact})));});}export default Contacts;","map":{"version":3,"sources":["/Users/brandonalbright/Desktop/Contact-Book/src/components/CONTACTS.js"],"names":["React","useState","Accordion","AccordionDetails","AccordionSummary","Typography","ExpandMoreIcon","EditIcon","DeleteIcon","fetchAPI","Comments","Contacts","props","contactList","setContactList","setOpen","setName","setAddress","setPhoneNumber","setEmail","setContactType","setEdit","expanded","setExpanded","handleChange","panel","event","isExpanded","map","contact","index","name","address","phoneNumber","email","contactType","preventDefault","id","then","newList","filter","person","catch","console","error"],"mappings":"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","sourcesContent":["import React, {useState} from  \"react\";\nimport \"./CONTACTS.css\"\nimport { Accordion, AccordionDetails, AccordionSummary, Typography  } from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport fetchAPI from '../api/index'\nimport Comments from './COMMENTS'\n\n\nfunction Contacts(props) {\n    const {contactList, \n            setContactList, \n            setOpen, \n            setName, \n            setAddress,\n            setPhoneNumber,\n            setEmail,\n            setContactType,\n            setEdit} = props\n    const [expanded, setExpanded] = useState('false');\n\n    const handleChange = (panel) => (event, isExpanded) => {\n      setExpanded(isExpanded ? panel : false);\n    };\n\n    \n\n    return (contactList.map((contact, index) => {\n        return <Accordion key={index} expanded={expanded === index} onChange={handleChange(index)}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel1a-content\"\n          id=\"panel1a-header\"\n          expanded={expanded}\n        >\n          <Typography className=\"contact-name\"><strong>{contact.name}</strong></Typography>\n        </AccordionSummary>\n        <AccordionDetails className=\"details\">\n          <div className=\"contact-details\">\n\n            <Typography>\n              <strong>ADDRESS: </strong>{contact.address}<br></br>\n              <strong>PHONE NUMBER: </strong>{contact.phoneNumber}<br></br>\n              <strong>EMAIL: </strong>{contact.email}<br></br>\n              <strong>CONTACT TYPE: </strong>{contact.contactType}<br></br>\n            </Typography>\n            <div className=\"icons\">\n              <DeleteIcon \n                  id=\"delete\" \n                  fontSize=\"large\"\n                  onClick={async (event) => {\n                      event.preventDefault();\n                      fetchAPI(`https://univ-contact-book.herokuapp.com/api/contacts/${contact.id}`, \"DELETE\")\n                      .then(\n                          function() {\n                            const newList = contactList.filter(person => person.id !== contact.id);\n                            setContactList(newList)\n                            setExpanded(false)\n                          })\n                      .catch(console.error);\n                  }}\n                  ></DeleteIcon>\n              <EditIcon  \n                  id=\"edit\" \n                  fontSize=\"large\"\n                  onClick={(event) => {\n                      event.preventDefault();\n                      setEdit(contact.id)\n                      setOpen(true)\n                      setName(contact.name)\n                      setAddress(contact.address)\n                      setPhoneNumber(contact.phoneNumber)\n                      setEmail(contact.email)\n                      setContactType(contact.contactType)\n                  }\n                  }\n                  ></EditIcon>\n            </div>\n          </div>\n          <Comments \n            contact={contact}/>\n        </AccordionDetails>\n        </Accordion>\n        \n    })\n    \n    )\n    }\n    \n        \n\n\nexport default Contacts\n"]},"metadata":{},"sourceType":"module"}
(this.webpackJsonpmy_first_react=this.webpackJsonpmy_first_react||[]).push([[0],{79:function(e,t,n){e.exports=n(93)},85:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(41),c=n(11),r=n(0),o=n.n(r),l=n(9),s=n.n(l),u=n(13),i=n.n(u),m=n(18),p=n(127),d=n(139),f=n(130),h=n(62),b=n.n(h);function E(){return(E=Object(m.a)(i.a.mark((function e(t){var n,a,c,r,o,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",a=l.length>2&&void 0!==l[2]?l[2]:null,c={method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImJyYW5kb24iLCJpYXQiOjE2MDU1NzQwOTIsImV4cCI6MTYwNjE3ODg5Mn0.HJQ-TnkS1pKhJ-h9oFGShA20oN322SouFjJHvCfY7PI"}},a&&(c.body=JSON.stringify(a)),e.next=6,fetch(t,c);case 6:return r=e.sent,e.next=9,r.json();case 9:return o=e.sent,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){return E.apply(this,arguments)},O=n(138),C=n(140),j=n(133),k=n(142),N=n(132),g=n(64),y=n.n(g);n(85);function S(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}var T=Object(p.a)((function(e){return{paper:{position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function w(e){var t=T(),n=Object(r.useState)(S),a=Object(c.a)(n,1)[0],l=e.addNewContact,s=e.open,u=e.setOpen,p=e.name,h=e.setName,E=e.address,g=e.setAddress,w=e.phoneNumber,P=e.setPhoneNumber,I=e.email,x=e.setEmail,A=e.contactType,D=e.setContactType,J=e.edit,L=e.setEdit,z=e.updateContact,M=function(){u(!1)},Y=o.a.createElement("div",{style:a,id:"modal",className:t.paper},o.a.createElement("form",{className:t.root,id:"modal-items",noValidate:!0,autoComplete:"off"},o.a.createElement(f.a,{placeholder:"Name",inputProps:{"aria-label":"description"},value:p,onChange:function(e){h(e.target.value)}}),o.a.createElement(f.a,{placeholder:"Address",inputProps:{"aria-label":"description"},value:E,onChange:function(e){g(e.target.value)}}),o.a.createElement(b.a,{mask:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholder:"Phone Number",className:"phonenumber",inputProps:{"aria-label":"description"},value:w,onChange:function(e){P(e.target.value)}}),o.a.createElement(f.a,{placeholder:"Email",inputProps:{"aria-label":"description"},value:I,onChange:function(e){x(e.target.value)}}),o.a.createElement(k.a,{component:"fieldset"},o.a.createElement(N.a,{component:"legend"},"Contact Type"),o.a.createElement(C.a,{row:!0},o.a.createElement(j.a,{value:"Work",control:o.a.createElement(O.a,null),label:"Work",onClick:function(e){D("work")}}),o.a.createElement(j.a,{value:"Personal",control:o.a.createElement(O.a,null),label:"Personal",onClick:function(e){D("personal")}}),o.a.createElement(j.a,{value:"Other",control:o.a.createElement(O.a,null),label:"Other",onClick:function(e){D("other")}}))),o.a.createElement("button",{onClick:function(){var e=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={name:p,address:E,phoneNumber:w,email:I,contactType:A},null===J?v("https://univ-contact-book.herokuapp.com/api/contacts","POST",n).then((function(e){e.contact.comments=[];var t=e.contact;console.log(t),l(t)})).then(M(),h(""),g(""),P(""),x(""),D("")).catch(console.error):v("https://univ-contact-book.herokuapp.com/api/contacts/".concat(J),"PATCH",n).then(z(n)).then(M(),h(""),g(""),P(""),x(""),D("")).catch(console.error),L(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Submit")));return o.a.createElement("div",null,o.a.createElement(y.a,{onClick:function(){u(!0)},fontSize:"large",style:{color:"green"}}),o.a.createElement(d.a,{open:s,onClose:M},Y))}n(90);var P=n(141),I=n(135),x=n(94),A=n(136),D=n(65),J=n.n(D),L=n(67),z=n.n(L),M=n(66),Y=n.n(M),F=n(137);n(91);var H=function(e){var t=e.contact,n=Object(r.useState)(t.comments),l=Object(c.a)(n,2),s=l[0],u=l[1],p=Object(r.useState)(""),d=Object(c.a)(p,2),f=d[0],h=d[1];return o.a.createElement("div",{className:"comments"},o.a.createElement("p",null,o.a.createElement("strong",null,"Comments: ")," ",0===s.length?"None":null),0===s?null:s.map((function(e,t){return o.a.createElement("div",{key:t,className:"single-comment"},o.a.createElement("p",null," - ",e.content),o.a.createElement("button",{onClick:function(){var t=Object(m.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),v("https://univ-contact-book.herokuapp.com/api/comments/".concat(e.id),"DELETE").then((function(){var t=s.filter((function(t){return t.id!==e.id}));u(t)})).catch(console.error);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"Delete Comment"))})),o.a.createElement("form",null,o.a.createElement("input",{className:"comment-form",type:F.a,placeholder:"Type New Comment",value:f,onChange:function(e){h(e.target.value)}}),o.a.createElement("button",{className:"comment-submit",onClick:function(){var e=Object(m.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),v("https://univ-contact-book.herokuapp.com/api/contacts/".concat(t.id,"/comments"),"POST",{content:f}).then((function(e){u([].concat(Object(a.a)(s),[e.comment]))})).then(h("")).catch(console.error);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Add Comment")))};var V=function(e){var t=e.contactList,n=e.setContactList,a=e.setOpen,l=e.setName,s=e.setAddress,u=e.setPhoneNumber,p=e.setEmail,d=e.setContactType,f=e.setEdit,h=Object(r.useState)("false"),b=Object(c.a)(h,2),E=b[0],O=b[1];return t.map((function(e,c){return o.a.createElement(P.a,{key:c,expanded:E===c,onChange:(r=c,function(e,t){O(!!t&&r)})},o.a.createElement(I.a,{expandIcon:o.a.createElement(J.a,null),"aria-controls":"panel1a-content",id:"panel1a-header",expanded:E},o.a.createElement(x.a,{className:"contact-name"},o.a.createElement("strong",null,e.name))),o.a.createElement(A.a,{className:"details"},o.a.createElement("div",{className:"contact-details"},o.a.createElement(x.a,null,o.a.createElement("strong",null,"ADDRESS: "),e.address,o.a.createElement("br",null),o.a.createElement("strong",null,"PHONE NUMBER: "),e.phoneNumber,o.a.createElement("br",null),o.a.createElement("strong",null,"EMAIL: "),e.email,o.a.createElement("br",null),o.a.createElement("strong",null,"CONTACT TYPE: "),e.contactType,o.a.createElement("br",null)),o.a.createElement("div",{className:"icons"},o.a.createElement(Y.a,{id:"delete",fontSize:"large",onClick:function(){var a=Object(m.a)(i.a.mark((function a(c){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c.preventDefault(),v("https://univ-contact-book.herokuapp.com/api/contacts/".concat(e.id),"DELETE").then((function(){var a=t.filter((function(t){return t.id!==e.id}));n(a),O(!1)})).catch(console.error);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}),o.a.createElement(z.a,{id:"edit",fontSize:"large",onClick:function(t){t.preventDefault(),f(e.id),a(!0),l(e.name),s(e.address),u(e.phoneNumber),p(e.email),d(e.contactType)}}))),o.a.createElement(H,{contact:e})));var r}))};n(92);function _(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],l=t[1],s=Object(r.useState)(!1),u=Object(c.a)(s,2),i=u[0],m=u[1],p=Object(r.useState)(""),d=Object(c.a)(p,2),f=d[0],h=d[1],b=Object(r.useState)(""),E=Object(c.a)(b,2),O=E[0],C=E[1],j=Object(r.useState)(""),k=Object(c.a)(j,2),N=k[0],g=k[1],y=Object(r.useState)(""),S=Object(c.a)(y,2),T=S[0],P=S[1],I=Object(r.useState)(""),x=Object(c.a)(I,2),A=x[0],D=x[1],J=Object(r.useState)(null),L=Object(c.a)(J,2),z=L[0],M=L[1];return Object(r.useEffect)((function(){v("https://univ-contact-book.herokuapp.com/api/contacts").then((function(e){var t=e.contacts.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}));l(t)})).catch((function(e){console.error("error fetching contacts",e)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"title"},o.a.createElement("h1",null,"My Contacts"),o.a.createElement(w,{addNewContact:function(e){return l([].concat(Object(a.a)(n),[e]))},open:i,setOpen:m,name:f,address:O,phoneNumber:N,email:T,contactType:A,setName:h,setAddress:C,setPhoneNumber:g,setEmail:P,setContactType:D,edit:z,setEdit:M,updateContact:function(e){var t=n.findIndex((function(e){return e.id===z}));if(t>-1){var c=Object(a.a)(n);c[t]=e,l(c)}}})),o.a.createElement(V,{contactList:n,setContactList:l,setOpen:m,setName:h,setAddress:C,setPhoneNumber:g,setEmail:P,setContactType:D,setEdit:M}))}s.a.render(o.a.createElement(_,null),document.getElementById("app"))}},[[79,1,2]]]);
//# sourceMappingURL=main.5297adac.chunk.js.map